{% extends "base.html" %}

{% block content %}
<div class="container my-5">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h1 class="card-title"><i class="fas fa-briefcase"></i> {{ offre.titre }}</h1>
    </div>
    <div class="card-body">
      <p><strong>Description :</strong> {{ offre.description }}</p>
      <p>
        <strong>Compétences requises :</strong> {{ offre.competences_requises }}
      </p>
      <p><strong>Salaire :</strong> {{ offre.salaire }} $</p>
      <p><strong>Localisation :</strong> {{ offre.localisation }}</p>
      <p><strong>Date de publication :</strong> {{ offre.date_publication|date:"d/m/Y" }}</p>
      
      {% if user.role == 'CANDIDAT' %}
      <form method="POST" action="{% url 'postuler_offre' offre.id %}" class="mt-4">
        {% csrf_token %}
        <button type="submit" class="btn btn-success btn-lg btn-block">
          <i class="fas fa-paper-plane"></i> Postuler à cette offre
        </button>
      </form>
      {% endif %}

      <a href="{% url 'job_list' %}" class="btn btn-secondary mt-4 btn-block">
        <i class="fas fa-arrow-left"></i> Retour à la liste des offres
      </a>
    </div>
  </div>
</div>
{% endblock %}
